for connecting mongodb:
import mongoose from "mongoose";
const connectDB = async (DATABASE_URL) => {
  try {
    await mongoose.connect(DATABASE_URL);
    console.log("Database Connected ...");
  } catch (error) {
    console.log(error);
  }
};
export default connectDB;

schema:
const movieSchema = new mongoose.Schema({
  name: { type: String, required: true, trim: true },
  ratings: { type: Number, required: true, min: 1, max: 5 },
  money: {
    type: mongoose.Decimal128,
    required: true,
    validate: (v) => v >= 10,
  },
  genre: { type: Array },
  isActive: { type: Boolean },
  comments: [
    { value: { type: String }, publish: { type: Date, default: Date.now } },
  ],
});
models:
const movieModel = mongoose.model("movie", movieSchema);

inserting document:
const createDoc = async () => {
  try {
    // Creating new document
    const m1 = new MovieModel({
      name: "Extraction 2",
      ratings: 4,
      money: 60000,
      genre: ["action", "adventure"],
      isActive: true,
      comments: [{ value: "That was an amazing movie" }],
    });

    // Saving Document
    const result = await m1.save();
    console.log(result);
  } catch (error) {
    console.log(error);
  }
};
multiple documents:   
const result = await MovieModel.insertMany([m1, m2, m3, m4, m5]);

reading documents:
--->if we use find it will return array so we have to iterate to use the object
but if we use findById it will return as object directly
const result = await MovieModel.find();
result.forEach((item) => {
       console.log(item.name);
       console.log(item.ratings);
       console.log(item.money);
     });
single document:const result = await movieModel.findById("649ab23e38eecfddee75ea65");
const result = await movieModel.find().limit(3);
const result = await movieModel.find().skip(2);
const result = await movieModel.find().countDocuments(); count the documents

LOGICAL OPERATORS:
const result = await movieModel.find({
     $and: [{ money: 60000 }, { ratings: 4 }]
});
  //  give me a movie who have made 60000 money and ratings is 4
const result = await movieModel.find({ ratings: { $not: { $gt: 5 } } });

update:
updateByID:
const result = await MovieModel.findByIdAndUpdate(
       "649b41a505c6903acd50a32d",
       {
           name: "Mission Impossible",
         genre: ["Action", "Science fiction", "Adventure", "Fantasy"],
       }
    );
const result = await movieModel.updateOne(
      { _id: id },
      { name: "John Wick: Chapter 4" }
);
update multiple documents:
const result = await movieModel.updateMany(
      { ratings: 5 },
      { comments: [{ value: "5 Star Movies" }] }
    );
delete:
const result = await movieModel.findByIdAndDelete(id);
const result = await movieModel.deleteOne(id);
const result = await movieModel.deleteMany({ ratings: 4 });